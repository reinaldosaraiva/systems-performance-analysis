{
  "dashboard": {
    "id": null,
    "title": "Systems Performance - Complete Dashboard",
    "tags": ["systems-performance", "monitoring"],
    "timezone": "browser",
    "schemaVersion": 37,
    "version": 1,
    "refresh": "30s",
    "time": {
      "from": "now-1h",
      "to": "now"
    },
    "timepicker": {},
    "templating": {
      "list": [
        {
          "name": "instance",
          "type": "query",
          "datasource": "Prometheus-Local",
          "query": "label_values(up, instance)",
          "multi": true,
          "includeAll": true,
          "allValue": ".*",
          "refresh": 1,
          "current": {
            "selected": false,
            "text": "All",
            "value": "$__all"
          }
        }
      ]
    },
    "annotations": {
      "list": []
    },
    "panels": [
      {
        "id": 1,
        "title": "System Status",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 0, "y": 0},
        "targets": [
          {
            "expr": "up{instance=~\"$instance\"}",
            "legendFormat": "{{instance}}",
            "refId": "A"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"},
              {"options": {"1": {"text": "UP", "color": "green"}}, "type": "value"}
            ],
            "thresholds": {"steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
          }
        },
        "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center"}
      },
      {
        "id": 2,
        "title": "CPU Usage %",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 6, "y": 0},
        "targets": [
          {
            "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=~\"$instance\"}[5m])) * 100)",
            "legendFormat": "{{instance}}",
            "refId": "A"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "thresholds": {"steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 70},
              {"color": "red", "value": 90}
            ]}
          }
        }
      },
      {
        "id": 3,
        "title": "Memory Usage %",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 12, "y": 0},
        "targets": [
          {
            "expr": "(1 - (node_memory_MemAvailable_bytes{instance=~\"$instance\"} / node_memory_MemTotal_bytes{instance=~\"$instance\"})) * 100",
            "legendFormat": "{{instance}}",
            "refId": "A"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "thresholds": {"steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 80},
              {"color": "red", "value": 95}
            ]}
          }
        }
      },
      {
        "id": 4,
        "title": "Load Average",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 18, "y": 0},
        "targets": [
          {
            "expr": "node_load1{instance=~\"$instance\"}",
            "legendFormat": "Load 1m",
            "refId": "A"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {"steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 2},
              {"color": "red", "value": 4}
            ]}
          }
        }
      },
      {
        "id": 5,
        "title": "CPU Usage History",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
        "targets": [
          {
            "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=~\"$instance\"}[5m])) * 100)",
            "legendFormat": "{{instance}} CPU %",
            "refId": "A"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "thresholds": {"steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 70},
              {"color": "red", "value": 90}
            ]}
          }
        },
        "options": {
          "legend": {"displayMode": "list", "placement": "bottom"},
          "tooltip": {"mode": "multi", "sort": "desc"}
        }
      },
      {
        "id": 6,
        "title": "Memory Usage History",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
        "targets": [
          {
            "expr": "(1 - (node_memory_MemAvailable_bytes{instance=~\"$instance\"} / node_memory_MemTotal_bytes{instance=~\"$instance\"})) * 100",
            "legendFormat": "{{instance}} Memory %",
            "refId": "A"
          },
          {
            "expr": "node_memory_MemAvailable_bytes{instance=~\"$instance\"} / 1024/1024/1024",
            "legendFormat": "{{instance}} Available GB",
            "refId": "B"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "thresholds": {"steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 80},
              {"color": "red", "value": 95}
            ]}
          }
        },
        "options": {
          "legend": {"displayMode": "list", "placement": "bottom"},
          "tooltip": {"mode": "multi", "sort": "desc"}
        }
      },
      {
        "id": 7,
        "title": "Load Average History",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
        "targets": [
          {
            "expr": "node_load1{instance=~\"$instance\"}",
            "legendFormat": "{{instance}} Load 1m",
            "refId": "A"
          },
          {
            "expr": "node_load5{instance=~\"$instance\"}",
            "legendFormat": "{{instance}} Load 5m",
            "refId": "B"
          },
          {
            "expr": "node_load15{instance=~\"$instance\"}",
            "legendFormat": "{{instance}} Load 15m",
            "refId": "C"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {"steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 2},
              {"color": "red", "value": 4}
            ]}
          }
        },
        "options": {
          "legend": {"displayMode": "list", "placement": "bottom"},
          "tooltip": {"mode": "multi", "sort": "desc"}
        }
      },
      {
        "id": 8,
        "title": "Disk Usage",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
        "targets": [
          {
            "expr": "(1 - (node_filesystem_avail_bytes{fstype!=\"tmpfs\", instance=~\"$instance\"} / node_filesystem_size_bytes{fstype!=\"tmpfs\", instance=~\"$instance\"})) * 100",
            "legendFormat": "{{instance}} {{mountpoint}} Usage %",
            "refId": "A"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "thresholds": {"steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 80},
              {"color": "red", "value": 95}
            ]}
          }
        },
        "options": {
          "legend": {"displayMode": "list", "placement": "bottom"},
          "tooltip": {"mode": "multi", "sort": "desc"}
        }
      },
      {
        "id": 9,
        "title": "Network Traffic",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 20},
        "targets": [
          {
            "expr": "rate(node_network_receive_bytes_total{instance=~\"$instance\", device!=\"lo\"}[5m]) * 8 / 1024 / 1024",
            "legendFormat": "{{instance}} {{device}} RX Mbps",
            "refId": "A"
          },
          {
            "expr": "rate(node_network_transmit_bytes_total{instance=~\"$instance\", device!=\"lo\"}[5m]) * 8 / 1024 / 1024",
            "legendFormat": "{{instance}} {{device}} TX Mbps",
            "refId": "B"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "Mbps"
          }
        },
        "options": {
          "legend": {"displayMode": "list", "placement": "bottom"},
          "tooltip": {"mode": "multi", "sort": "desc"}
        }
      },
      {
        "id": 10,
        "title": "System Uptime",
        "type": "stat",
        "gridPos": {"h": 4, "w": 12, "x": 12, "y": 20},
        "targets": [
          {
            "expr": "time() - node_boot_time_seconds{instance=~\"$instance\"}",
            "legendFormat": "{{instance}}",
            "refId": "A"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "dtdurations"
          }
        }
      }
    ]
  },
  "overwrite": true
}